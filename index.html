<!DOCTYPE html>
<html>
<body>

  <h1>sign a message</h1>

  <form>
    <textarea id="message" name="message" rows="4" cols="80"></textarea>
    <br />
    <button type="button" onclick="signMessage(this.form.elements[0].value)">sign</button>
  </form>

  <code id="signed" style="word-wrap: break-word;max-width:400px;" />

  <script>
    async function signMessage(message) {
      signedEvent = await window.nostr.signEvent({
        "kind": 1, 
        "tags": [],
        "created_at": Math.floor(Date.now() / 1000),
        "content": message
      })

      document.getElementById("signed").innerText = JSON.stringify(signedEvent)
    }
  </script>
</body>
</html>
